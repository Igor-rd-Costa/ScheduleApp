@if (businessInfo.business === null) {
    <div class="pt-6 flex flex-col items-center">
        <h2 class="text-goldenDark text-[2rem] mb-[2rem]">Business Setup</h2>
        <form [formGroup]="businessSetupForm" class="grid w-[17rem] grid-cols-1 grid-rows-[auto_auto_auto_auto_1rem_3rem]" method="post" (submit)="SetupBusiness($event)">
            <label class="text-white mb-2 col-start-1" for="name-field">
                Name:
                @if (this.businessSetupForm.controls.Name.hasError('required') && this.businessSetupForm.dirty) {
                    <span class="pl-2 text-red-600 text-[0.9rem]">Field is required</span>
                }
            </label>
            <input class="h-[1.7rem] mb-4 col-start-1 col-span-2 p-1 rounded" type="text" name="name-field" formControlName="Name">
            
            <label class="text-white mb-2 col-start-1 row-start-3" for="description-field">Description:</label>
            <textarea class="h-[6rem] p-1 col-start-1 row-start-4 col-span-2 rounded" name="description-field" formControlName="Description"></textarea>

            <MainButton class="row-start-6 justify-self-center" [disabled]="!businessSetupForm.valid">
                <div class="h-[2rem] pl-2 pr-2 flex items-center">
                    Submit
                </div>
            </MainButton>
        </form>
    </div>
} @else if (businessInfo.business !== undefined) {
    <div class="pt-6 pb-6">
        <div class="pl-4 pr-4 pb-10 grid grid-cols-[auto_1fr] grid-rows-1">
            <div class="border-4 border-goldenDark text-goldenDark w-fit p-1 rounded-[50%]">
                <Icon size="4.5rem" type="store"/>
            </div>
            <div class="font-arial pl-4 pt-2">
                <div class="text-goldenDark text-[1.4rem]">
                    {{businessInfo.business.name}}
                </div>
                <div class="text-gray-200 text-[0.9rem]">
                    {{businessInfo.business.description}}
                </div>
            </div>
        </div>
        <h2 class="grid grid-rows-1 items-center grid-cols-[auto_1fr_auto] text-goldenDark ml-4 text-[1.3rem] mb-[0.5rem] mr-4">
            <div class="justify-start w-fit">All Services</div>
            @if (allowEdit) {
                <button class="col-start-3" (click)="GoToEditServices()">
                    <Icon type="edit"/>
                </button>
            }
        </h2>
        <div class="grid gap-y-4">
            @for (category of businessInfo.categories; track category.id) {
                <MinimizableCard [header]="category.name">
                    <div class="pb-6 pt-6 grid gap-4 w-screen overflow-y-scroll" #card>
                        @for (service of GetServicesInCategory(category.id); track service.id) {
                            <BusinessServiceCard (Click)="OnServiceClick($event)" [serviceName]="service.name" [serviceDescription]="service.description"
                            [servicePrice]="service.price" [serviceDuration]="service.duration" [serviceId]="service.id" [canSchedule]="!allowEdit"/>
                        }
                    </div>
                </MinimizableCard>
            }
            @if (HasServiceWithNoCategory()) {
                <MinimizableCard header="Others">
                    <div class="pb-6 pt-6 grid gap-4 w-screen overflow-y-scroll" #card>
                        @for (service of GetServicesInCategory(null); track service.id) {
                            <BusinessServiceCard (Click)="OnServiceClick($event)" [serviceName]="service.name" [serviceDescription]="service.description"
                            [servicePrice]="service.price" [serviceDuration]="service.duration", [serviceId]="service.id" [canSchedule]="!allowEdit"/>
                        }
                    </div>
                </MinimizableCard>
            }
        </div>
        <h2 class="grid grid-rows-1 items-center grid-cols-[auto_1fr_auto] text-goldenDark ml-4 text-[1.3rem] mb-[0.5rem] mr-4 mt-4">
            <div class="justify-start w-fit">Opening Hours</div>
            @if (allowEdit) {
                <button class="col-start-3" (click)="GoToEditHours()">
                    <Icon type="edit"/>
                </button>
            }
        </h2>
        <div class="pt-2" #card>
            <CardBase [cardIcons]="['schedule']">
                <div class="pl-3 pt-2 w-[87%] h-full pb-2 text-[14px]">
                    <OpeningHoursDisplay [hours]="openingHours"/>   
                </div>
            </CardBase>
        </div>
    </div>
}